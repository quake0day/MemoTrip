# MemoTrip - æ—…è¡Œè´¹ç”¨åˆ†æ‘Šä¸ç…§ç‰‡åˆ†äº«å¹³å°

<div align="center">

![MemoTrip](https://img.shields.io/badge/MemoTrip-v1.0.0-blue)
![Next.js](https://img.shields.io/badge/Next.js-15-black)
![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-16-blue)
![Docker](https://img.shields.io/badge/Docker-Compose-blue)

ä¸€ä¸ªè½»é‡çº§ã€å¯è‡ªæ‰˜ç®¡çš„æ—…è¡Œè´¹ç”¨åˆ†æ‘Šå’Œç…§ç‰‡åˆ†äº«åº”ç”¨ï¼Œä¸“ä¸ºå›¢é˜Ÿæ—…è¡Œè®¾è®¡ã€‚

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [æŠ€æœ¯æ¶æ„](#-æŠ€æœ¯æ¶æ„) â€¢ [APIæ–‡æ¡£](#-api-æ–‡æ¡£) â€¢ [å¼€å‘æŒ‡å—](#-å¼€å‘æŒ‡å—)

</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

MemoTrip æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„æ—…è¡Œè´¹ç”¨ç®¡ç†å’Œç…§ç‰‡åˆ†äº«å¹³å°ï¼Œæ—¨åœ¨ç®€åŒ–å¤šäººæ—…è¡Œä¸­çš„è´¹ç”¨åˆ†æ‘Šå’Œå›å¿†åˆ†äº«ã€‚é€šè¿‡æ™ºèƒ½çš„æƒé‡ç®—æ³•å’Œç›´è§‚çš„ç”¨æˆ·ç•Œé¢ï¼Œè®©æ—…è¡Œè´¹ç”¨ç»“ç®—å˜å¾—ç®€å•é€æ˜ã€‚

### æ ¸å¿ƒäº®ç‚¹

- ğŸ  **å®¶åº­æƒé‡ç³»ç»Ÿ** - æ”¯æŒæˆäºº/å„¿ç«¥ä¸åŒæƒé‡é…ç½®ï¼ˆ1.0/0.5ï¼‰
- ğŸ’° **æ™ºèƒ½ç»“ç®—ç®—æ³•** - è‡ªåŠ¨è®¡ç®—è´¹ç”¨åˆ†æ‘Šå¹¶ç”Ÿæˆæœ€å°‘è½¬è´¦æ–¹æ¡ˆ
- ğŸ“¸ **ç…§ç‰‡ç”»å»Š** - é›†ä¸­ç®¡ç†å’Œåˆ†äº«æ—…è¡Œç…§ç‰‡
- ğŸŒ **å¤šå¸ç§æ”¯æŒ** - USD, EUR, GBP, JPY, CNY
- ğŸ”’ **æ•°æ®å®‰å…¨** - æœ¬åœ°éƒ¨ç½²ï¼Œå®Œå…¨æŒæ§æ‚¨çš„æ•°æ®
- ğŸŒ™ **æ·±è‰²æ¨¡å¼** - å®Œæ•´çš„æ˜æš—ä¸»é¢˜æ”¯æŒ
- ğŸ“± **å“åº”å¼è®¾è®¡** - å®Œç¾é€‚é…æ‰‹æœºã€å¹³æ¿ã€æ¡Œé¢
- ğŸ³ **ä¸€é”®éƒ¨ç½²** - Docker Composeå¿«é€Ÿå¯åŠ¨

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### å·²å®ç°åŠŸèƒ½

#### ğŸ‘¤ ç”¨æˆ·ç®¡ç†
- âœ… é‚®ç®±å¯†ç æ³¨å†Œ/ç™»å½•
- âœ… è‡ªåŠ¨åˆ›å»ºé»˜è®¤å®¶åº­
- âœ… ç”¨æˆ·ä¸ªäººä¿¡æ¯ç®¡ç†

#### ğŸ’ æ—…è¡Œç®¡ç†
- âœ… åˆ›å»ºæ—…è¡Œï¼ˆæ”¯æŒå¤šå¸ç§ï¼‰
- âœ… æ—…è¡Œåˆ—è¡¨æŸ¥çœ‹
- âœ… æ—…è¡Œè¯¦æƒ…ï¼ˆæ”¶æ®/ç»“ç®—/ç…§ç‰‡/å‚ä¸è€…ï¼‰
- âœ… è‡ªåŠ¨æ·»åŠ åˆ›å»ºè€…ä¸ºé¦–ä½å‚ä¸è€…

#### ğŸ  å®¶åº­ä¸å‚ä¸è€…
- âœ… åˆ›å»ºå’Œç®¡ç†å®¶åº­
- âœ… æ·»åŠ /ç§»é™¤æ—…è¡Œå‚ä¸è€…
- âœ… é…ç½®æˆå‘˜æƒé‡ï¼ˆæˆäºº=1.0ï¼Œå„¿ç«¥=0.5ï¼‰
- âœ… æŸ¥çœ‹å®¶åº­æˆå‘˜è¯¦æƒ…

#### ğŸ§¾ æ”¶æ®ç®¡ç†
- âœ… ä¸Šä¼ æ”¶æ®å›¾ç‰‡
- âœ… æ”¶æ®çŠ¶æ€è·Ÿè¸ª
- âœ… æ”¶æ®é¢„è§ˆå’Œå…¨å±æŸ¥çœ‹
- âœ… æ”¶æ®åˆ—è¡¨ç®¡ç†

#### ğŸ“· ç…§ç‰‡ç”»å»Š
- âœ… ä¸Šä¼ ç…§ç‰‡
- âœ… ç½‘æ ¼å±•ç¤º
- âœ… ç…§ç‰‡é¢„è§ˆ
- âœ… æ˜¾ç¤ºä¸Šä¼ è€…å’Œæ—¥æœŸ

#### ğŸ’µ è´¹ç”¨ç»“ç®—
- âœ… åŸºäºæƒé‡çš„æ™ºèƒ½åˆ†æ‘Šç®—æ³•
- âœ… ä¸€é”®é‡æ–°è®¡ç®—ç»“ç®—
- âœ… ç”Ÿæˆæœ€å°‘è½¬è´¦æ–¹æ¡ˆ
- âœ… ç»“ç®—å†å²ç‰ˆæœ¬ç®¡ç†
- âœ… HTMLå¯¼å‡ºæ¨¡æ¿

### è®¡åˆ’åŠŸèƒ½

- ğŸ¤– OpenAI Vision API æ”¶æ®è‡ªåŠ¨è§£æ
- ğŸ“¤ PNG/PDFæ ¼å¼å¯¼å‡ºç»“ç®—è¡¨
- ğŸ”— é‚€è¯·ç ç³»ç»Ÿ
- ğŸ–¼ï¸ EXIFå…ƒæ•°æ®æå–
- ğŸ“¦ ç…§ç‰‡æ‰¹é‡ä¸‹è½½ZIP

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Docker 20.10+
- Docker Compose 2.0+
- 8GB+ å¯ç”¨ç£ç›˜ç©ºé—´

### ä¸€é”®éƒ¨ç½²

```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/yourusername/MemoTrip.git
cd MemoTrip

# 2. é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œæ·»åŠ  OpenAI API Keyï¼ˆå¦‚éœ€AIè§£æåŠŸèƒ½ï¼‰

# 3. å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker compose up -d

# 4. ç­‰å¾…æœåŠ¡å°±ç»ªï¼ˆçº¦30ç§’ï¼‰
docker compose logs -f web

# 5. è®¿é—®åº”ç”¨
# æ‰“å¼€æµè§ˆå™¨è®¿é—®: http://localhost:3001
```

### é¦–æ¬¡ä½¿ç”¨

1. **æ³¨å†Œè´¦æˆ·** - è®¿é—® http://localhost:3001/register
2. **åˆ›å»ºæ—…è¡Œ** - ç™»å½•ååœ¨ä»ªè¡¨æ¿ç‚¹å‡» "New Trip"
3. **æ·»åŠ å‚ä¸è€…** - åœ¨æ—…è¡Œè¯¦æƒ…é¡µæ·»åŠ å…¶ä»–å®¶åº­
4. **ä¸Šä¼ æ”¶æ®** - ç‚¹å‡» "Upload Receipt" ä¸Šä¼ è´¹ç”¨å‡­è¯
5. **è®¡ç®—ç»“ç®—** - ç‚¹å‡» "Recalculate Settlement" ç”Ÿæˆåˆ†æ‘Šæ–¹æ¡ˆ

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ

- **å‰åç«¯**: Next.js 15 (App Router) + React 18 + TypeScript
- **æ•°æ®åº“**: PostgreSQL 16 + Prisma ORM
- **ç¼“å­˜**: Redis 7
- **æ ·å¼**: Tailwind CSS 3
- **éƒ¨ç½²**: Docker + Docker Compose
- **æ–‡ä»¶å­˜å‚¨**: æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿå·

### ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Browser/Client                   â”‚
â”‚      (React + Tailwind CSS)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ HTTP/HTTPS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Next.js Server                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  Pages   â”‚  â”‚   API   â”‚  â”‚  Files  â”‚â”‚
â”‚  â”‚ (SSR/CSR)â”‚  â”‚  Routes â”‚  â”‚  Server â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚              â”‚                â”‚
     â–¼              â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚PostgreSQLâ”‚  â”‚  Redis   â”‚  â”‚File Storage  â”‚
â”‚Database  â”‚  â”‚  Cache   â”‚  â”‚   Volumes    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¡ API æ–‡æ¡£

### è®¤è¯ç›¸å…³

**æ³¨å†Œç”¨æˆ·**
```http
POST /api/auth/register
Content-Type: application/json

{
  "email": "user@example.com",
  "password": "password123",
  "name": "John Doe"
}
```

**ç”¨æˆ·ç™»å½•**
```http
POST /api/auth/login
Content-Type: application/json

{
  "email": "user@example.com",
  "password": "password123"
}
```

### æ—…è¡Œç®¡ç†

**åˆ›å»ºæ—…è¡Œ**
```http
POST /api/trips
Content-Type: application/json

{
  "name": "Japan 2024",
  "currency": "JPY",
  "userId": "cuid..."
}
```

**è·å–æ—…è¡Œåˆ—è¡¨**
```http
GET /api/trips?userId=cuid...
```

### å…¶ä»–ç«¯ç‚¹

- `POST /api/trips/:tripId/participants` - æ·»åŠ å‚ä¸è€…
- `POST /api/trips/:tripId/receipts` - ä¸Šä¼ æ”¶æ®
- `POST /api/trips/:tripId/photos` - ä¸Šä¼ ç…§ç‰‡
- `POST /api/trips/:tripId/settlements/recompute` - é‡æ–°è®¡ç®—ç»“ç®—
- `GET /api/files/:...path` - è·å–æ–‡ä»¶

è¯¦ç»†APIæ–‡æ¡£è¯·æŸ¥çœ‹é¡¹ç›®Wikiã€‚

---

## ğŸ’» å¼€å‘æŒ‡å—

### æœ¬åœ°å¼€å‘ç¯å¢ƒ

```bash
# å®‰è£…ä¾èµ–
cd app
npm install

# é…ç½®æ•°æ®åº“
cp .env.example .env

# è¿è¡Œæ•°æ®åº“è¿ç§»
npx prisma migrate dev

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

### æ•°æ®åº“æ“ä½œ

```bash
# åˆ›å»ºæ–°è¿ç§»
npx prisma migrate dev --name add_new_feature

# æ‰“å¼€ Prisma Studio
npx prisma studio

# ç”Ÿæˆ Prisma Client
npx prisma generate
```

### Docker å¼€å‘

```bash
# æ„å»ºå¹¶å¯åŠ¨
docker compose up -d --build

# æŸ¥çœ‹æ—¥å¿—
docker compose logs -f web

# åœæ­¢æœåŠ¡
docker compose down
```

---

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
# æ•°æ®åº“è¿æ¥
DATABASE_URL=postgresql://trip:trip@db:5432/trip

# OpenAI APIï¼ˆå¯é€‰ï¼‰
OPENAI_API_KEY=sk-...

# åº”ç”¨é…ç½®
PORT=3000
NODE_ENV=production
```

---

## ğŸ¯ ä½¿ç”¨åœºæ™¯

**å®¶åº­æ—…è¡Œ** - å¤šä¸ªå®¶åº­ä¸€èµ·å‡ºæ¸¸ï¼Œä½¿ç”¨æƒé‡ç³»ç»Ÿï¼ˆæˆäºº=1.0ï¼Œå„¿ç«¥=0.5ï¼‰å…¬å¹³åˆ†æ‘Šè´¹ç”¨ã€‚

**æœ‹å‹èšä¼š** - æœ‹å‹AAåˆ¶æ—…è¡Œï¼Œæ¯äººåˆ›å»ºè‡ªå·±çš„å®¶åº­ï¼Œå¹³å‡åˆ†æ‘Šæ‰€æœ‰è´¹ç”¨ã€‚

**å…¬å¸å›¢å»º** - å…¬å¸ç»„ç»‡å›¢å»ºæ´»åŠ¨ï¼Œè´¢åŠ¡äººå‘˜ç®¡ç†æ‰€æœ‰æ”¶æ®ï¼Œè‡ªåŠ¨ç”Ÿæˆè´¹ç”¨æŠ¥è¡¨ã€‚

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®ï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

---

## ğŸ“œ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ MIT License å¼€æºåè®®ã€‚

---

## ğŸ™ è‡´è°¢

- [Next.js](https://nextjs.org/)
- [Prisma](https://www.prisma.io/)
- [Tailwind CSS](https://tailwindcss.com/)
- [PostgreSQL](https://www.postgresql.org/)
- [Docker](https://www.docker.com/)

---

<div align="center">

**[â¬† å›åˆ°é¡¶éƒ¨](#memotrip---æ—…è¡Œè´¹ç”¨åˆ†æ‘Šä¸ç…§ç‰‡åˆ†äº«å¹³å°)**

Made with â¤ï¸ by MemoTrip Team

</div>
